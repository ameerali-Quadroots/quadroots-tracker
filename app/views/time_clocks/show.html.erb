<div class="timeclock-wrapper py-5">
  <h1 class="timeclock-title text-center mb-5">⏱️ Time Clock Overview</h1>

  <!-- Top Info -->
  <div class="timeclock-grid">
    <div class="info-block fade-in">
      <h4>Date</h4>
      <p><%= @time_clock.clock_in.strftime("%A, %d %B %Y") %></p>
    </div>

    <div class="info-block fade-in delay-1">
      <h4>Clock In</h4>
      <p class="text-green"><%= @time_clock.clock_in.strftime("%I:%M %p") %></p>
    </div>

    <div class="info-block fade-in delay-2">
      <h4>Clock Out</h4>
      <p class="text-red">
        <% if @time_clock.clock_out.present? %>
          <%= @time_clock.clock_out.strftime("%I:%M %p") %>
        <% else %>
          Not Clocked Out
        <% end %>
      </p>
    </div>

    <div class="info-block fade-in delay-3">
      <% status = @time_clock.status %>
      <% color = status == "on_time" ? "text-green" : "text-red" %>
      <h4>Status</h4>
      <p class="<%= color %> fw-bold">
        <%= status == "on_time" ? "On Time" : "Late" %>
      </p>
    </div>
  </div>

  <!-- Work Summary -->
  <div class="summary-row mt-5 fade-in delay-4">
    <div class="summary-box">
      <h5>Total Work Duration</h5>
      <span class="value text-green">
        <%= @time_clock.formatted_duration(@time_clock.total_duration) || "Not Calculated" %>
      </span>
    </div>
    <div class="summary-box">
      <h5>Total Break Time</h5>
      <span class="value text-yellow">
        <%= @time_clock.formatted_duration(@time_clock.break_duration) || "No Breaks" %>
      </span>
    </div>
  </div>

  <!-- Breaks -->
  <h3 class="section-heading mt-5 mb-4 text-center">☕ Breaks</h3>

  <% if @time_clock.breaks.any? %>
    <div class="break-grid fade-in delay-5">
      <% @time_clock.breaks.each_with_index do |brk, i| %>
        <div class="break-tile">
          <div class="break-header">
            <span>Break <%= i + 1 %></span>
          </div>
          <div class="break-body">
            <div><strong>Start:</strong> <%= brk.break_in&.strftime("%I:%M %p") || "N/A" %></div>
            <div><strong>End:</strong> <%= brk.break_out&.strftime("%I:%M %p") || "N/A" %></div>
            <div><strong>Duration:</strong>
              <% if brk.break_in && brk.break_out %>
                <%= distance_of_time_in_words(brk.break_out - brk.break_in) %>
              <% else %>
                N/A
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="no-breaks fade-in delay-5">
      <i class="bi bi-cup-hot me-2"></i>No breaks recorded today.
    </div>
  <% end %>

  <div class="text-center mt-5">
    <%= link_to "← Back", root_path, class: "btn-return" %>
  </div>
</div>
